# Multi-Ticker Trading Dashboard

Interactive Streamlit dashboard for visualizing multi-ticker PPO trading agent performance.

## Features

- **Portfolio Metrics**: Final value, total return, Sharpe ratio, max drawdown, win rate
- **Portfolio Value Chart**: Time series of portfolio evolution with current position marker
- **Price Charts**: Per-ticker price evolution (dropdown selector)
- **Allocation Pie Chart**: Current portfolio breakdown (tickers + cash)
- **Actions Table**: Recent trading actions with allocations
- **Playback Controls**: Scrub through test period day by day

## Usage

### 1. Install Streamlit

```bash
pip install streamlit
```

### 2. Run Evaluation to Generate Data

```bash
cd StockProphet
python -m multiticker_refactor.main_multi --mode evaluate
```

This saves episode data to `episode_data/latest/`.

### 3. Launch Dashboard

From the **repo root**:

```bash
streamlit run StockProphet/multiticker_refactor/streamlit_demo/app.py
```

Or from **StockProphet/** directory:

```bash
cd StockProphet
streamlit run multiticker_refactor/streamlit_demo/app.py
```

The dashboard will auto-detect the data location.

## File Structure

```
streamlit_demo/
├── app.py          # Main Streamlit UI
├── utils.py        # Data loading and metrics helpers
└── README.md       # This file

episode_data/latest/  (generated by evaluation)
├── metadata.json
├── portfolio_history.npy
├── actions.npy
├── rewards.npy
└── prices.npy
```

## Notes

- Dashboard is read-only (no retraining from UI)
- Data is cached by Streamlit for fast navigation
- Works with any number of tickers (tested with 3)
- Portfolio visualization includes bankruptcy detection (portfolio → $0)
